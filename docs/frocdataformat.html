<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 4 FROC data format | RJafroc Documentation</title>
  <meta name="description" content="Extended RJafroc documentation." />
  <meta name="generator" content="bookdown 0.12 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 4 FROC data format | RJafroc Documentation" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Extended RJafroc documentation." />
  <meta name="github-repo" content="dpc10ster/RJafrocBook" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 4 FROC data format | RJafroc Documentation" />
  
  <meta name="twitter:description" content="Extended RJafroc documentation." />
  

<meta name="author" content="Dev P. Chakraborty, PhD" />


<meta name="date" content="2019-08-07" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="rocdataformat.html">
<link rel="next" href="split-plot-analysis.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">RJafroc documentation</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Preface</a></li>
<li class="chapter" data-level="2" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>2</b> Introduction</a></li>
<li class="chapter" data-level="3" data-path="rocdataformat.html"><a href="rocdataformat.html"><i class="fa fa-check"></i><b>3</b> ROC data format</a><ul>
<li class="chapter" data-level="3.1" data-path="rocdataformat.html"><a href="rocdataformat.html#introduction"><i class="fa fa-check"></i><b>3.1</b> Introduction</a></li>
<li class="chapter" data-level="3.2" data-path="rocdataformat.html"><a href="rocdataformat.html#an-actual-mrmc-roc-dataset"><i class="fa fa-check"></i><b>3.2</b> An actual MRMC ROC dataset</a><ul>
<li class="chapter" data-level="3.2.1" data-path="rocdataformat.html"><a href="rocdataformat.html#overview-of-the-data-structure"><i class="fa fa-check"></i><b>3.2.1</b> Overview of the data structure</a></li>
<li class="chapter" data-level="3.2.2" data-path="rocdataformat.html"><a href="rocdataformat.html#details-of-the-modalityid-and-readerid-list-members"><i class="fa fa-check"></i><b>3.2.2</b> Details of the <code>modalityID</code> and <code>readerID</code> list members</a></li>
<li class="chapter" data-level="3.2.3" data-path="rocdataformat.html"><a href="rocdataformat.html#details-of-the-nl-and-ll-list-members"><i class="fa fa-check"></i><b>3.2.3</b> Details of the <code>NL</code> and <code>LL</code> list members</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="rocdataformat.html"><a href="rocdataformat.html#the-roc-excel-data-input-file"><i class="fa fa-check"></i><b>3.3</b> The ROC Excel data input file</a><ul>
<li class="chapter" data-level="3.3.1" data-path="rocdataformat.html"><a href="rocdataformat.html#the-excel-file-organization"><i class="fa fa-check"></i><b>3.3.1</b> The Excel file organization</a></li>
<li class="chapter" data-level="3.3.2" data-path="rocdataformat.html"><a href="rocdataformat.html#the-truth-worksheet-organization"><i class="fa fa-check"></i><b>3.3.2</b> The Truth worksheet organization</a></li>
<li class="chapter" data-level="3.3.3" data-path="rocdataformat.html"><a href="rocdataformat.html#the-fpnl-worksheet-organization"><i class="fa fa-check"></i><b>3.3.3</b> The FP/NL worksheet organization</a></li>
<li class="chapter" data-level="3.3.4" data-path="rocdataformat.html"><a href="rocdataformat.html#the-tpll-worksheet-organization"><i class="fa fa-check"></i><b>3.3.4</b> The TP/LL worksheet organization</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="rocdataformat.html"><a href="rocdataformat.html#summary"><i class="fa fa-check"></i><b>3.4</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="frocdataformat.html"><a href="frocdataformat.html"><i class="fa fa-check"></i><b>4</b> FROC data format</a><ul>
<li class="chapter" data-level="4.1" data-path="frocdataformat.html"><a href="frocdataformat.html#introduction-1"><i class="fa fa-check"></i><b>4.1</b> Introduction</a></li>
<li class="chapter" data-level="4.2" data-path="frocdataformat.html"><a href="frocdataformat.html#an-actual-mrmc-froc-dataset"><i class="fa fa-check"></i><b>4.2</b> An actual MRMC FROC dataset</a><ul>
<li class="chapter" data-level="4.2.1" data-path="frocdataformat.html"><a href="frocdataformat.html#the-nl-aand-ll-list-members"><i class="fa fa-check"></i><b>4.2.1</b> The <code>NL</code> aand <code>LL</code> list members</a></li>
<li class="chapter" data-level="4.2.2" data-path="frocdataformat.html"><a href="frocdataformat.html#the-lesionnum-list-member"><i class="fa fa-check"></i><b>4.2.2</b> The <code>lesionNum</code> list member</a></li>
<li class="chapter" data-level="4.2.3" data-path="frocdataformat.html"><a href="frocdataformat.html#the-lesionid-list-member"><i class="fa fa-check"></i><b>4.2.3</b> The <code>lesionID</code> list member</a></li>
<li class="chapter" data-level="4.2.4" data-path="frocdataformat.html"><a href="frocdataformat.html#the-lesionweight-list-member"><i class="fa fa-check"></i><b>4.2.4</b> The <code>LesionWeight</code> list member</a></li>
<li class="chapter" data-level="4.2.5" data-path="frocdataformat.html"><a href="frocdataformat.html#the-datatype-list-member"><i class="fa fa-check"></i><b>4.2.5</b> The <code>dataType</code> list member</a></li>
<li class="chapter" data-level="4.2.6" data-path="frocdataformat.html"><a href="frocdataformat.html#details-of-the-modalityid-and-readerid-list-members-1"><i class="fa fa-check"></i><b>4.2.6</b> Details of the <code>modalityID</code> and <code>readerID</code> list members</a></li>
<li class="chapter" data-level="4.2.7" data-path="frocdataformat.html"><a href="frocdataformat.html#details-of-the-nl-and-ll-list-members-1"><i class="fa fa-check"></i><b>4.2.7</b> Details of the <code>NL</code> and <code>LL</code> list members</a></li>
<li class="chapter" data-level="4.2.8" data-path="frocdataformat.html"><a href="frocdataformat.html#numbers-of-non-diseased-and-diseased-cases-1"><i class="fa fa-check"></i><b>4.2.8</b> Numbers of non-diseased and diseased cases</a></li>
<li class="chapter" data-level="4.2.9" data-path="frocdataformat.html"><a href="frocdataformat.html#why-dimension-the-nl-array-for-the-total-number-of-cases-1"><i class="fa fa-check"></i><b>4.2.9</b> Why dimension the <code>NL</code> array for the total number of cases?</a></li>
<li class="chapter" data-level="4.2.10" data-path="frocdataformat.html"><a href="frocdataformat.html#ratings-on-a-non-diseased-case-1"><i class="fa fa-check"></i><b>4.2.10</b> Ratings on a non-diseased case</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="frocdataformat.html"><a href="frocdataformat.html#the-froc-excel-data-input-file"><i class="fa fa-check"></i><b>4.3</b> The FROC Excel data input file</a><ul>
<li class="chapter" data-level="4.3.1" data-path="frocdataformat.html"><a href="frocdataformat.html#the-truth-worksheet"><i class="fa fa-check"></i><b>4.3.1</b> The Truth worksheet</a></li>
<li class="chapter" data-level="4.3.2" data-path="frocdataformat.html"><a href="frocdataformat.html#the-fpnl-worksheet"><i class="fa fa-check"></i><b>4.3.2</b> The <code>FP/NL</code> worksheet</a></li>
<li class="chapter" data-level="4.3.3" data-path="frocdataformat.html"><a href="frocdataformat.html#the-tpll-worksheet"><i class="fa fa-check"></i><b>4.3.3</b> The <code>TP/LL</code> worksheet</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="frocdataformat.html"><a href="frocdataformat.html#summary-1"><i class="fa fa-check"></i><b>4.4</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="split-plot-analysis.html"><a href="split-plot-analysis.html"><i class="fa fa-check"></i><b>5</b> Split Plot Analysis</a><ul>
<li class="chapter" data-level="5.1" data-path="split-plot-analysis.html"><a href="split-plot-analysis.html#extending-the-dataset-to-accommodate-split-plot-designs"><i class="fa fa-check"></i><b>5.1</b> Extending the dataset to accommodate split-plot designs</a></li>
<li class="chapter" data-level="5.2" data-path="split-plot-analysis.html"><a href="split-plot-analysis.html#introduction-2"><i class="fa fa-check"></i><b>5.2</b> Introduction</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="roidataformat.html"><a href="roidataformat.html"><i class="fa fa-check"></i><b>6</b> ROI data format</a><ul>
<li class="chapter" data-level="6.1" data-path="roidataformat.html"><a href="roidataformat.html#roi-paradigm"><i class="fa fa-check"></i><b>6.1</b> ROI paradigm</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">RJafroc Documentation</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="frocdataformat" class="section level1">
<h1><span class="header-section-number">Chapter 4</span> FROC data format</h1>
<div id="introduction-1" class="section level2">
<h2><span class="header-section-number">4.1</span> Introduction</h2>
<ul>
<li>In the free-response ROC (<strong>FROC</strong>) paradigm <span class="citation">(Bunch et al. <a href="#ref-RN85">1978</a>)</span> the observer’s task is to:
<ul>
<li><strong>mark</strong> (i.e., indicate the location of) and</li>
<li><strong>rate</strong> (i.e., assign an ordered label representing the degree of suspicion) regions in the image that are perceived as suspicious for presence of disease.</li>
<li>Accordingly, FROC data consists of <strong>mark-rating pairs</strong>, where each mark indicates a region<a href="#fn7" class="footnote-ref" id="fnref7"><sup>7</sup></a> that was considered suspicious for presence of a localized lesion and the rating is the corresponding confidence level.</li>
<li>The number of mark-rating pairs on any particular case is a-priori unpredictable. It is a non-negative random integer (i.e., 0, 1, 2, …) that depends on the case, the reader and the modality. The relatively unstructured nature of FROC data makes FROC paradigm data seemingly more difficult to analyze than ROC paradigm data.<a href="#fn8" class="footnote-ref" id="fnref8"><sup>8</sup></a></li>
</ul></li>
<li>By adopting a proximity criterion, each mark is classified by the investigator as a lesion localization (LL) - if it is close to a real lesion - or a non-lesion localization (NL) otherwise.</li>
<li>The rating can be an integer or quasi- continuous (e.g., 0 – 100), or a floating point value, as long as higher numbers represent greater confidence in presence of one or more lesions in the ROI.<a href="#fn9" class="footnote-ref" id="fnref9"><sup>9</sup></a></li>
<li>For human observer studies a 4 or 5-point rating scale is recommended:
<ul>
<li>1: Very low, but finite possibility that the region is diseased.</li>
<li>2: Low possibility that the region is diseased.</li>
<li>3: Moderate possibility that the region is diseased.</li>
<li>4: High possibility that the region is diseased.</li>
<li>5: Very high possibility that the region is diseased.</li>
</ul></li>
<li>The actual adjectives used to describe the labels are unimportant. What is important is the ordering of the labels and that the observer holds them relatively constant for the duration of the study. More allowed ratings, provided the observer can work with them, leads to greater definition of the relevant empirical operating curves (to be introduced later).</li>
<li>With algorithmic readers, e.g., computer aided detection (CAD) algorithms, a floating point rating, if possible, should be retained.</li>
<li>In the most common study design, termed multiple-reader multiple-case (<strong>MRMC</strong>), the rating collection procedure is repeated for all cases, treatments and readers.</li>
</ul>
</div>
<div id="an-actual-mrmc-froc-dataset" class="section level2">
<h2><span class="header-section-number">4.2</span> An actual MRMC FROC dataset</h2>
<p>An actual MRMC FROC dataset is included as <code>dataset04</code> <span class="citation">(Zanca et al. <a href="#ref-RN1882">2009</a>)</span>. It has the following structure:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1"><span class="kw">str</span>(dataset04)</a>
<a class="sourceLine" id="cb11-2" data-line-number="2"><span class="co">#&gt; List of 8</span></a>
<a class="sourceLine" id="cb11-3" data-line-number="3"><span class="co">#&gt;  $ NL          : num [1:5, 1:4, 1:200, 1:7] -Inf -Inf 1 -Inf -Inf ...</span></a>
<a class="sourceLine" id="cb11-4" data-line-number="4"><span class="co">#&gt;  $ LL          : num [1:5, 1:4, 1:100, 1:3] 4 5 4 5 4 3 5 4 4 3 ...</span></a>
<a class="sourceLine" id="cb11-5" data-line-number="5"><span class="co">#&gt;  $ lesionNum   : int [1:100] 1 1 1 1 1 1 1 1 1 1 ...</span></a>
<a class="sourceLine" id="cb11-6" data-line-number="6"><span class="co">#&gt;  $ lesionID    : num [1:100, 1:3] 1 1 1 1 1 1 1 1 1 1 ...</span></a>
<a class="sourceLine" id="cb11-7" data-line-number="7"><span class="co">#&gt;  $ lesionWeight: num [1:100, 1:3] 1 1 1 1 1 1 1 1 1 1 ...</span></a>
<a class="sourceLine" id="cb11-8" data-line-number="8"><span class="co">#&gt;  $ dataType    : chr &quot;FROC&quot;</span></a>
<a class="sourceLine" id="cb11-9" data-line-number="9"><span class="co">#&gt;  $ modalityID  : Named chr [1:5] &quot;1&quot; &quot;2&quot; &quot;3&quot; &quot;4&quot; ...</span></a>
<a class="sourceLine" id="cb11-10" data-line-number="10"><span class="co">#&gt;   ..- attr(*, &quot;names&quot;)= chr [1:5] &quot;1&quot; &quot;2&quot; &quot;3&quot; &quot;4&quot; ...</span></a>
<a class="sourceLine" id="cb11-11" data-line-number="11"><span class="co">#&gt;  $ readerID    : Named chr [1:4] &quot;1&quot; &quot;3&quot; &quot;4&quot; &quot;5&quot;</span></a>
<a class="sourceLine" id="cb11-12" data-line-number="12"><span class="co">#&gt;   ..- attr(*, &quot;names&quot;)= chr [1:4] &quot;1&quot; &quot;3&quot; &quot;4&quot; &quot;5&quot;</span></a></code></pre></div>
<p>The <code>dataset</code> structure is a <code>list</code> variable with 8 members.</p>
<div id="the-nl-aand-ll-list-members" class="section level3">
<h3><span class="header-section-number">4.2.1</span> The <code>NL</code> aand <code>LL</code> list members</h3>
<ul>
<li>Ratings of actually non-diseased regions are stored in the <code>NL</code> list member.</li>
<li>Ratings of actually diseased regions are stored in the <code>LL</code> list member.</li>
<li><code>dataset04</code> corresponds to 5-treatments and 4-readers (the lengths of the first and second dimensions, respectively, of the <code>NL</code> and <code>LL</code> arrays).</li>
</ul>
</div>
<div id="the-lesionnum-list-member" class="section level3">
<h3><span class="header-section-number">4.2.2</span> The <code>lesionNum</code> list member</h3>
<ul>
<li>The <code>lesionNum</code> list member is an array of length 100 filled with integers ranging from 1 to 3, the latter being the maximum number of actual lesions per case in <code>dataset04</code>. The length of this array equals the number of diseased cases, 100 in the current example. The contents of <code>lesionNum</code> are shown below:</li>
</ul>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1">dataset04<span class="op">$</span>lesionNum[<span class="dv">1</span><span class="op">:</span><span class="dv">20</span>]</a>
<a class="sourceLine" id="cb12-2" data-line-number="2"><span class="co">#&gt;  [1] 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1</span></a>
<a class="sourceLine" id="cb12-3" data-line-number="3">dataset04<span class="op">$</span>lesionNum[<span class="dv">21</span><span class="op">:</span><span class="dv">40</span>]</a>
<a class="sourceLine" id="cb12-4" data-line-number="4"><span class="co">#&gt;  [1] 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1</span></a>
<a class="sourceLine" id="cb12-5" data-line-number="5">dataset04<span class="op">$</span>lesionNum[<span class="dv">41</span><span class="op">:</span><span class="dv">60</span>]</a>
<a class="sourceLine" id="cb12-6" data-line-number="6"><span class="co">#&gt;  [1] 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 2 2 1 1 2</span></a>
<a class="sourceLine" id="cb12-7" data-line-number="7">dataset04<span class="op">$</span>lesionNum[<span class="dv">61</span><span class="op">:</span><span class="dv">80</span>]</a>
<a class="sourceLine" id="cb12-8" data-line-number="8"><span class="co">#&gt;  [1] 1 1 1 1 1 1 1 1 2 2 1 1 1 2 2 2 2 2 2 1</span></a>
<a class="sourceLine" id="cb12-9" data-line-number="9">dataset04<span class="op">$</span>lesionNum[<span class="dv">81</span><span class="op">:</span><span class="dv">100</span>]</a>
<a class="sourceLine" id="cb12-10" data-line-number="10"><span class="co">#&gt;  [1] 2 2 2 2 3 2 2 2 2 2 3 3 3 3 3 3 3 3 3 3</span></a></code></pre></div>
<ul>
<li>The above entries tell us that while most cases contain only one lesion each, some contain 2 or even 3 lesions per case.</li>
</ul>
</div>
<div id="the-lesionid-list-member" class="section level3">
<h3><span class="header-section-number">4.2.3</span> The <code>lesionID</code> list member</h3>
<ul>
<li>The <code>lesionID</code> list member is a <code>[100 x 3]</code> array.</li>
<li>Essentially it establishes a way of distinguishing between different lesions on a case by naming them, or what amounts to the same thing, by labeling them.</li>
<li>The problem of distinguishing between different lesions on a case is peculiar to the FROC paradigm. With only one conceptual lesion per diseased case, the ROC paradigm does not face this problem.</li>
<li>The second dimension of this array indicates that there is at least one diseased case with three lesions.</li>
</ul>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1">dataset04<span class="op">$</span>lesionID[<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>,]</a>
<a class="sourceLine" id="cb13-2" data-line-number="2"><span class="co">#&gt;       [,1] [,2] [,3]</span></a>
<a class="sourceLine" id="cb13-3" data-line-number="3"><span class="co">#&gt;  [1,]    1 -Inf -Inf</span></a>
<a class="sourceLine" id="cb13-4" data-line-number="4"><span class="co">#&gt;  [2,]    1 -Inf -Inf</span></a>
<a class="sourceLine" id="cb13-5" data-line-number="5"><span class="co">#&gt;  [3,]    1 -Inf -Inf</span></a>
<a class="sourceLine" id="cb13-6" data-line-number="6"><span class="co">#&gt;  [4,]    1 -Inf -Inf</span></a>
<a class="sourceLine" id="cb13-7" data-line-number="7"><span class="co">#&gt;  [5,]    1 -Inf -Inf</span></a>
<a class="sourceLine" id="cb13-8" data-line-number="8"><span class="co">#&gt;  [6,]    1 -Inf -Inf</span></a>
<a class="sourceLine" id="cb13-9" data-line-number="9"><span class="co">#&gt;  [7,]    1 -Inf -Inf</span></a>
<a class="sourceLine" id="cb13-10" data-line-number="10"><span class="co">#&gt;  [8,]    1 -Inf -Inf</span></a>
<a class="sourceLine" id="cb13-11" data-line-number="11"><span class="co">#&gt;  [9,]    1 -Inf -Inf</span></a>
<a class="sourceLine" id="cb13-12" data-line-number="12"><span class="co">#&gt; [10,]    1 -Inf -Inf</span></a></code></pre></div>
<ul>
<li>This indicates that the first ten diseased cases contain one lesion each.</li>
<li>The lesion on case 1 is <strong>labeled</strong> by the value 1. The <code>-Inf</code> denote missing values. Since there is only one lesion, the placeholders for the second or third lesion (not present on this case, but needed to hold lesion labels in other cases) need to be filled with negative infinites.</li>
<li>The following example may help clarify this point.</li>
</ul>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" data-line-number="1">dataset04<span class="op">$</span>lesionID[<span class="dv">90</span><span class="op">:</span><span class="dv">100</span>,]</a>
<a class="sourceLine" id="cb14-2" data-line-number="2"><span class="co">#&gt;       [,1] [,2] [,3]</span></a>
<a class="sourceLine" id="cb14-3" data-line-number="3"><span class="co">#&gt;  [1,]    1    2 -Inf</span></a>
<a class="sourceLine" id="cb14-4" data-line-number="4"><span class="co">#&gt;  [2,]    1    2    3</span></a>
<a class="sourceLine" id="cb14-5" data-line-number="5"><span class="co">#&gt;  [3,]    1    2    3</span></a>
<a class="sourceLine" id="cb14-6" data-line-number="6"><span class="co">#&gt;  [4,]    1    2    3</span></a>
<a class="sourceLine" id="cb14-7" data-line-number="7"><span class="co">#&gt;  [5,]    1    2    3</span></a>
<a class="sourceLine" id="cb14-8" data-line-number="8"><span class="co">#&gt;  [6,]    1    2    3</span></a>
<a class="sourceLine" id="cb14-9" data-line-number="9"><span class="co">#&gt;  [7,]    1    2    3</span></a>
<a class="sourceLine" id="cb14-10" data-line-number="10"><span class="co">#&gt;  [8,]    1    2    3</span></a>
<a class="sourceLine" id="cb14-11" data-line-number="11"><span class="co">#&gt;  [9,]    1    2    3</span></a>
<a class="sourceLine" id="cb14-12" data-line-number="12"><span class="co">#&gt; [10,]    1    2    3</span></a>
<a class="sourceLine" id="cb14-13" data-line-number="13"><span class="co">#&gt; [11,]    1    2    3</span></a></code></pre></div>
<ul>
<li>Diseased case 90 has two lesions, labeled 1 and 2 respectively.</li>
<li>The key point is this: each lesion on a case has a distinct <em>name</em>. Just as each case has to have a distinct name (i.e., label), each lesion within a (diseased) case has to have a distinct name.</li>
<li>When an observer assigns a rating to a particular lesion on a casee, the experimenter needs to record this information correctly.</li>
<li>For example, if the lesion with <code>lesionID = 1</code> is marked and rated a particular value, this value needs to be entered in the spread-sheet as belonging to the lesion named <code>lesionID = 1</code>.</li>
<li>The <code>TP/LL</code> worksheet has a <code>lesionID</code> column.<a href="#fn10" class="footnote-ref" id="fnref10"><sup>10</sup></a></li>
<li>The distinction implied by different <code>lesionID</code> values is important if the lesion weights are unequal.<a href="#fn11" class="footnote-ref" id="fnref11"><sup>11</sup></a></li>
</ul>
</div>
<div id="the-lesionweight-list-member" class="section level3">
<h3><span class="header-section-number">4.2.4</span> The <code>LesionWeight</code> list member</h3>
<ul>
<li>The <code>LesionWeight</code> list member is also a <code>[100 x 3]</code> array filled with values that add up to unity for each case. The meaning of lesion weights is dicussed in here: <span class="citation">(Chakraborty and Berbaum <a href="#ref-RN1385">2004</a>; Chakraborty and Yoon <a href="#ref-RN1966">2009</a>; Chakraborty <a href="#ref-RN2680">2017</a>)</span></li>
<li>Briefly, the lesion weights are the clinical importance of detecting the lesion.</li>
<li>As an example, a highly visible lesion might have low clinical significance if it is likely to be benign, and it would be characterized by a lower weight than a less visible but more deadly lesion on the same case.</li>
<li>In order to give each case equal importance, the weights must sum to one.</li>
<li>In the current example, see below, the lesions are equally weighted.</li>
<li>The choice of weights is a clinical consideration, determined by the costs and benefits of missing or finding the lesion. Lacking this information, which is the most common scenario, it makes sense to weight the lesions equally.</li>
<li>On a case one one lesion, <code>lesionWeight = 1</code>, and the other lesionWeights are assigned negative infinity values.</li>
<li>On a case with two lesions, <code>lesionWeight = 0.5</code> for the first two lesions, and the third weight is assigned the negative infinity value.</li>
<li>On a case with three lesions, <code>lesionWeight = 0.3333</code> for the lesions.</li>
<li>Rather than assign these values manually, set the Weight column of the Truth worksheet to zeroes. Then the software automatically assigns equal weights when the Excel sheet is read.</li>
</ul>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" data-line-number="1">dataset04<span class="op">$</span>lesionWeight[<span class="dv">1</span><span class="op">:</span><span class="dv">20</span>,]</a>
<a class="sourceLine" id="cb15-2" data-line-number="2"><span class="co">#&gt;       [,1] [,2] [,3]</span></a>
<a class="sourceLine" id="cb15-3" data-line-number="3"><span class="co">#&gt;  [1,]    1 -Inf -Inf</span></a>
<a class="sourceLine" id="cb15-4" data-line-number="4"><span class="co">#&gt;  [2,]    1 -Inf -Inf</span></a>
<a class="sourceLine" id="cb15-5" data-line-number="5"><span class="co">#&gt;  [3,]    1 -Inf -Inf</span></a>
<a class="sourceLine" id="cb15-6" data-line-number="6"><span class="co">#&gt;  [4,]    1 -Inf -Inf</span></a>
<a class="sourceLine" id="cb15-7" data-line-number="7"><span class="co">#&gt;  [5,]    1 -Inf -Inf</span></a>
<a class="sourceLine" id="cb15-8" data-line-number="8"><span class="co">#&gt;  [6,]    1 -Inf -Inf</span></a>
<a class="sourceLine" id="cb15-9" data-line-number="9"><span class="co">#&gt;  [7,]    1 -Inf -Inf</span></a>
<a class="sourceLine" id="cb15-10" data-line-number="10"><span class="co">#&gt;  [8,]    1 -Inf -Inf</span></a>
<a class="sourceLine" id="cb15-11" data-line-number="11"><span class="co">#&gt;  [9,]    1 -Inf -Inf</span></a>
<a class="sourceLine" id="cb15-12" data-line-number="12"><span class="co">#&gt; [10,]    1 -Inf -Inf</span></a>
<a class="sourceLine" id="cb15-13" data-line-number="13"><span class="co">#&gt; [11,]    1 -Inf -Inf</span></a>
<a class="sourceLine" id="cb15-14" data-line-number="14"><span class="co">#&gt; [12,]    1 -Inf -Inf</span></a>
<a class="sourceLine" id="cb15-15" data-line-number="15"><span class="co">#&gt; [13,]    1 -Inf -Inf</span></a>
<a class="sourceLine" id="cb15-16" data-line-number="16"><span class="co">#&gt; [14,]    1 -Inf -Inf</span></a>
<a class="sourceLine" id="cb15-17" data-line-number="17"><span class="co">#&gt; [15,]    1 -Inf -Inf</span></a>
<a class="sourceLine" id="cb15-18" data-line-number="18"><span class="co">#&gt; [16,]    1 -Inf -Inf</span></a>
<a class="sourceLine" id="cb15-19" data-line-number="19"><span class="co">#&gt; [17,]    1 -Inf -Inf</span></a>
<a class="sourceLine" id="cb15-20" data-line-number="20"><span class="co">#&gt; [18,]    1 -Inf -Inf</span></a>
<a class="sourceLine" id="cb15-21" data-line-number="21"><span class="co">#&gt; [19,]    1 -Inf -Inf</span></a>
<a class="sourceLine" id="cb15-22" data-line-number="22"><span class="co">#&gt; [20,]    1 -Inf -Inf</span></a>
<a class="sourceLine" id="cb15-23" data-line-number="23">dataset04<span class="op">$</span>lesionWeight[<span class="dv">21</span><span class="op">:</span><span class="dv">40</span>,]</a>
<a class="sourceLine" id="cb15-24" data-line-number="24"><span class="co">#&gt;       [,1] [,2] [,3]</span></a>
<a class="sourceLine" id="cb15-25" data-line-number="25"><span class="co">#&gt;  [1,]    1 -Inf -Inf</span></a>
<a class="sourceLine" id="cb15-26" data-line-number="26"><span class="co">#&gt;  [2,]    1 -Inf -Inf</span></a>
<a class="sourceLine" id="cb15-27" data-line-number="27"><span class="co">#&gt;  [3,]    1 -Inf -Inf</span></a>
<a class="sourceLine" id="cb15-28" data-line-number="28"><span class="co">#&gt;  [4,]    1 -Inf -Inf</span></a>
<a class="sourceLine" id="cb15-29" data-line-number="29"><span class="co">#&gt;  [5,]    1 -Inf -Inf</span></a>
<a class="sourceLine" id="cb15-30" data-line-number="30"><span class="co">#&gt;  [6,]    1 -Inf -Inf</span></a>
<a class="sourceLine" id="cb15-31" data-line-number="31"><span class="co">#&gt;  [7,]    1 -Inf -Inf</span></a>
<a class="sourceLine" id="cb15-32" data-line-number="32"><span class="co">#&gt;  [8,]    1 -Inf -Inf</span></a>
<a class="sourceLine" id="cb15-33" data-line-number="33"><span class="co">#&gt;  [9,]    1 -Inf -Inf</span></a>
<a class="sourceLine" id="cb15-34" data-line-number="34"><span class="co">#&gt; [10,]    1 -Inf -Inf</span></a>
<a class="sourceLine" id="cb15-35" data-line-number="35"><span class="co">#&gt; [11,]    1 -Inf -Inf</span></a>
<a class="sourceLine" id="cb15-36" data-line-number="36"><span class="co">#&gt; [12,]    1 -Inf -Inf</span></a>
<a class="sourceLine" id="cb15-37" data-line-number="37"><span class="co">#&gt; [13,]    1 -Inf -Inf</span></a>
<a class="sourceLine" id="cb15-38" data-line-number="38"><span class="co">#&gt; [14,]    1 -Inf -Inf</span></a>
<a class="sourceLine" id="cb15-39" data-line-number="39"><span class="co">#&gt; [15,]    1 -Inf -Inf</span></a>
<a class="sourceLine" id="cb15-40" data-line-number="40"><span class="co">#&gt; [16,]    1 -Inf -Inf</span></a>
<a class="sourceLine" id="cb15-41" data-line-number="41"><span class="co">#&gt; [17,]    1 -Inf -Inf</span></a>
<a class="sourceLine" id="cb15-42" data-line-number="42"><span class="co">#&gt; [18,]    1 -Inf -Inf</span></a>
<a class="sourceLine" id="cb15-43" data-line-number="43"><span class="co">#&gt; [19,]    1 -Inf -Inf</span></a>
<a class="sourceLine" id="cb15-44" data-line-number="44"><span class="co">#&gt; [20,]    1 -Inf -Inf</span></a>
<a class="sourceLine" id="cb15-45" data-line-number="45">dataset04<span class="op">$</span>lesionWeight[<span class="dv">41</span><span class="op">:</span><span class="dv">60</span>,]</a>
<a class="sourceLine" id="cb15-46" data-line-number="46"><span class="co">#&gt;       [,1] [,2] [,3]</span></a>
<a class="sourceLine" id="cb15-47" data-line-number="47"><span class="co">#&gt;  [1,]  1.0 -Inf -Inf</span></a>
<a class="sourceLine" id="cb15-48" data-line-number="48"><span class="co">#&gt;  [2,]  1.0 -Inf -Inf</span></a>
<a class="sourceLine" id="cb15-49" data-line-number="49"><span class="co">#&gt;  [3,]  1.0 -Inf -Inf</span></a>
<a class="sourceLine" id="cb15-50" data-line-number="50"><span class="co">#&gt;  [4,]  1.0 -Inf -Inf</span></a>
<a class="sourceLine" id="cb15-51" data-line-number="51"><span class="co">#&gt;  [5,]  1.0 -Inf -Inf</span></a>
<a class="sourceLine" id="cb15-52" data-line-number="52"><span class="co">#&gt;  [6,]  1.0 -Inf -Inf</span></a>
<a class="sourceLine" id="cb15-53" data-line-number="53"><span class="co">#&gt;  [7,]  1.0 -Inf -Inf</span></a>
<a class="sourceLine" id="cb15-54" data-line-number="54"><span class="co">#&gt;  [8,]  1.0 -Inf -Inf</span></a>
<a class="sourceLine" id="cb15-55" data-line-number="55"><span class="co">#&gt;  [9,]  1.0 -Inf -Inf</span></a>
<a class="sourceLine" id="cb15-56" data-line-number="56"><span class="co">#&gt; [10,]  1.0 -Inf -Inf</span></a>
<a class="sourceLine" id="cb15-57" data-line-number="57"><span class="co">#&gt; [11,]  1.0 -Inf -Inf</span></a>
<a class="sourceLine" id="cb15-58" data-line-number="58"><span class="co">#&gt; [12,]  1.0 -Inf -Inf</span></a>
<a class="sourceLine" id="cb15-59" data-line-number="59"><span class="co">#&gt; [13,]  1.0 -Inf -Inf</span></a>
<a class="sourceLine" id="cb15-60" data-line-number="60"><span class="co">#&gt; [14,]  1.0 -Inf -Inf</span></a>
<a class="sourceLine" id="cb15-61" data-line-number="61"><span class="co">#&gt; [15,]  1.0 -Inf -Inf</span></a>
<a class="sourceLine" id="cb15-62" data-line-number="62"><span class="co">#&gt; [16,]  0.5  0.5 -Inf</span></a>
<a class="sourceLine" id="cb15-63" data-line-number="63"><span class="co">#&gt; [17,]  0.5  0.5 -Inf</span></a>
<a class="sourceLine" id="cb15-64" data-line-number="64"><span class="co">#&gt; [18,]  1.0 -Inf -Inf</span></a>
<a class="sourceLine" id="cb15-65" data-line-number="65"><span class="co">#&gt; [19,]  1.0 -Inf -Inf</span></a>
<a class="sourceLine" id="cb15-66" data-line-number="66"><span class="co">#&gt; [20,]  0.5  0.5 -Inf</span></a>
<a class="sourceLine" id="cb15-67" data-line-number="67">dataset04<span class="op">$</span>lesionWeight[<span class="dv">61</span><span class="op">:</span><span class="dv">80</span>,]</a>
<a class="sourceLine" id="cb15-68" data-line-number="68"><span class="co">#&gt;       [,1] [,2] [,3]</span></a>
<a class="sourceLine" id="cb15-69" data-line-number="69"><span class="co">#&gt;  [1,]  1.0 -Inf -Inf</span></a>
<a class="sourceLine" id="cb15-70" data-line-number="70"><span class="co">#&gt;  [2,]  1.0 -Inf -Inf</span></a>
<a class="sourceLine" id="cb15-71" data-line-number="71"><span class="co">#&gt;  [3,]  1.0 -Inf -Inf</span></a>
<a class="sourceLine" id="cb15-72" data-line-number="72"><span class="co">#&gt;  [4,]  1.0 -Inf -Inf</span></a>
<a class="sourceLine" id="cb15-73" data-line-number="73"><span class="co">#&gt;  [5,]  1.0 -Inf -Inf</span></a>
<a class="sourceLine" id="cb15-74" data-line-number="74"><span class="co">#&gt;  [6,]  1.0 -Inf -Inf</span></a>
<a class="sourceLine" id="cb15-75" data-line-number="75"><span class="co">#&gt;  [7,]  1.0 -Inf -Inf</span></a>
<a class="sourceLine" id="cb15-76" data-line-number="76"><span class="co">#&gt;  [8,]  1.0 -Inf -Inf</span></a>
<a class="sourceLine" id="cb15-77" data-line-number="77"><span class="co">#&gt;  [9,]  0.5  0.5 -Inf</span></a>
<a class="sourceLine" id="cb15-78" data-line-number="78"><span class="co">#&gt; [10,]  0.5  0.5 -Inf</span></a>
<a class="sourceLine" id="cb15-79" data-line-number="79"><span class="co">#&gt; [11,]  1.0 -Inf -Inf</span></a>
<a class="sourceLine" id="cb15-80" data-line-number="80"><span class="co">#&gt; [12,]  1.0 -Inf -Inf</span></a>
<a class="sourceLine" id="cb15-81" data-line-number="81"><span class="co">#&gt; [13,]  1.0 -Inf -Inf</span></a>
<a class="sourceLine" id="cb15-82" data-line-number="82"><span class="co">#&gt; [14,]  0.5  0.5 -Inf</span></a>
<a class="sourceLine" id="cb15-83" data-line-number="83"><span class="co">#&gt; [15,]  0.5  0.5 -Inf</span></a>
<a class="sourceLine" id="cb15-84" data-line-number="84"><span class="co">#&gt; [16,]  0.5  0.5 -Inf</span></a>
<a class="sourceLine" id="cb15-85" data-line-number="85"><span class="co">#&gt; [17,]  0.5  0.5 -Inf</span></a>
<a class="sourceLine" id="cb15-86" data-line-number="86"><span class="co">#&gt; [18,]  0.5  0.5 -Inf</span></a>
<a class="sourceLine" id="cb15-87" data-line-number="87"><span class="co">#&gt; [19,]  0.5  0.5 -Inf</span></a>
<a class="sourceLine" id="cb15-88" data-line-number="88"><span class="co">#&gt; [20,]  1.0 -Inf -Inf</span></a>
<a class="sourceLine" id="cb15-89" data-line-number="89">dataset04<span class="op">$</span>lesionWeight[<span class="dv">81</span><span class="op">:</span><span class="dv">100</span>,]</a>
<a class="sourceLine" id="cb15-90" data-line-number="90"><span class="co">#&gt;            [,1]      [,2]      [,3]</span></a>
<a class="sourceLine" id="cb15-91" data-line-number="91"><span class="co">#&gt;  [1,] 0.5000000 0.5000000      -Inf</span></a>
<a class="sourceLine" id="cb15-92" data-line-number="92"><span class="co">#&gt;  [2,] 0.5000000 0.5000000      -Inf</span></a>
<a class="sourceLine" id="cb15-93" data-line-number="93"><span class="co">#&gt;  [3,] 0.5000000 0.5000000      -Inf</span></a>
<a class="sourceLine" id="cb15-94" data-line-number="94"><span class="co">#&gt;  [4,] 0.5000000 0.5000000      -Inf</span></a>
<a class="sourceLine" id="cb15-95" data-line-number="95"><span class="co">#&gt;  [5,] 0.3333333 0.3333333 0.3333333</span></a>
<a class="sourceLine" id="cb15-96" data-line-number="96"><span class="co">#&gt;  [6,] 0.5000000 0.5000000      -Inf</span></a>
<a class="sourceLine" id="cb15-97" data-line-number="97"><span class="co">#&gt;  [7,] 0.5000000 0.5000000      -Inf</span></a>
<a class="sourceLine" id="cb15-98" data-line-number="98"><span class="co">#&gt;  [8,] 0.5000000 0.5000000      -Inf</span></a>
<a class="sourceLine" id="cb15-99" data-line-number="99"><span class="co">#&gt;  [9,] 0.5000000 0.5000000      -Inf</span></a>
<a class="sourceLine" id="cb15-100" data-line-number="100"><span class="co">#&gt; [10,] 0.5000000 0.5000000      -Inf</span></a>
<a class="sourceLine" id="cb15-101" data-line-number="101"><span class="co">#&gt; [11,] 0.3333333 0.3333333 0.3333333</span></a>
<a class="sourceLine" id="cb15-102" data-line-number="102"><span class="co">#&gt; [12,] 0.3333333 0.3333333 0.3333333</span></a>
<a class="sourceLine" id="cb15-103" data-line-number="103"><span class="co">#&gt; [13,] 0.3333333 0.3333333 0.3333333</span></a>
<a class="sourceLine" id="cb15-104" data-line-number="104"><span class="co">#&gt; [14,] 0.3333333 0.3333333 0.3333333</span></a>
<a class="sourceLine" id="cb15-105" data-line-number="105"><span class="co">#&gt; [15,] 0.3333333 0.3333333 0.3333333</span></a>
<a class="sourceLine" id="cb15-106" data-line-number="106"><span class="co">#&gt; [16,] 0.3333333 0.3333333 0.3333333</span></a>
<a class="sourceLine" id="cb15-107" data-line-number="107"><span class="co">#&gt; [17,] 0.3333333 0.3333333 0.3333333</span></a>
<a class="sourceLine" id="cb15-108" data-line-number="108"><span class="co">#&gt; [18,] 0.3333333 0.3333333 0.3333333</span></a>
<a class="sourceLine" id="cb15-109" data-line-number="109"><span class="co">#&gt; [19,] 0.3333333 0.3333333 0.3333333</span></a>
<a class="sourceLine" id="cb15-110" data-line-number="110"><span class="co">#&gt; [20,] 0.3333333 0.3333333 0.3333333</span></a></code></pre></div>
</div>
<div id="the-datatype-list-member" class="section level3">
<h3><span class="header-section-number">4.2.5</span> The <code>dataType</code> list member</h3>
<ul>
<li>The <code>dataType</code> list member equals the string <code>&quot;FROC&quot;</code>, identifying <code>dataset04</code> as an FROC dataset.</li>
</ul>
<p>Examination of the output reveals that:</p>
<ul>
<li>Location-level ratings of non-diseased regions are stored in the <code>NL</code> list member.</li>
<li>Location-level ratings of diseased regions are stored in the <code>LL</code> list member.</li>
</ul>
</div>
<div id="details-of-the-modalityid-and-readerid-list-members-1" class="section level3">
<h3><span class="header-section-number">4.2.6</span> Details of the <code>modalityID</code> and <code>readerID</code> list members</h3>
<ul>
<li>The names of the treatments are in the <code>modalityID</code> list member:</li>
</ul>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" data-line-number="1"><span class="kw">attributes</span>(dataset04<span class="op">$</span>modalityID)</a>
<a class="sourceLine" id="cb16-2" data-line-number="2"><span class="co">#&gt; $names</span></a>
<a class="sourceLine" id="cb16-3" data-line-number="3"><span class="co">#&gt; [1] &quot;1&quot; &quot;2&quot; &quot;3&quot; &quot;4&quot; &quot;5&quot;</span></a></code></pre></div>
<ul>
<li><p>For example, the name of the second treatment is <code>&quot;2&quot;</code>. The names can be longer strings, but use of very long string names may mess up the output formats of the analysis report.</p></li>
<li><p>The names of the readers are in the <code>readerID</code> array:</p></li>
</ul>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" data-line-number="1"><span class="kw">attributes</span>(dataset04<span class="op">$</span>readerID)</a>
<a class="sourceLine" id="cb17-2" data-line-number="2"><span class="co">#&gt; $names</span></a>
<a class="sourceLine" id="cb17-3" data-line-number="3"><span class="co">#&gt; [1] &quot;1&quot; &quot;3&quot; &quot;4&quot; &quot;5&quot;</span></a></code></pre></div>
<p>For example, the name of the second reader is <code>&quot;3&quot;</code>. Apparently reader <code>&quot;2&quot;</code> “dropped out” of the study. A similar caveat regarding long reader names applies.</p>
</div>
<div id="details-of-the-nl-and-ll-list-members-1" class="section level3">
<h3><span class="header-section-number">4.2.7</span> Details of the <code>NL</code> and <code>LL</code> list members</h3>
<ul>
<li>For either <code>NL</code> or <code>LL</code> list members, the fourth dimension can have length greater than unity.</li>
<li>For the <code>NL</code> list member <strong>this length is determined by the treatment-reader-case combination yielding the most <code>NL</code> marks per case</strong>.</li>
<li>For the <code>LL</code> list member <strong>this length is determined by the case with the most true lesions</strong>.</li>
<li><code>dataset02</code> is a 2-treatment 5-reader dataset (the lengths of the first and second dimensions, respectively, of the <code>NL</code> and <code>LL</code> list members).</li>
</ul>
</div>
<div id="numbers-of-non-diseased-and-diseased-cases-1" class="section level3">
<h3><span class="header-section-number">4.2.8</span> Numbers of non-diseased and diseased cases</h3>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" data-line-number="1"><span class="kw">length</span>(dataset04<span class="op">$</span>NL[<span class="dv">1</span>,<span class="dv">1</span>,,<span class="dv">1</span>])</a>
<a class="sourceLine" id="cb18-2" data-line-number="2"><span class="co">#&gt; [1] 200</span></a>
<a class="sourceLine" id="cb18-3" data-line-number="3"><span class="kw">length</span>(dataset04<span class="op">$</span>LL[<span class="dv">1</span>,<span class="dv">1</span>,,<span class="dv">1</span>])</a>
<a class="sourceLine" id="cb18-4" data-line-number="4"><span class="co">#&gt; [1] 100</span></a></code></pre></div>
<ul>
<li>The third dimension of the <code>NL</code> array is the total number of <strong>all</strong> cases, i.e., 200, and the third dimension of the <code>LL</code> array, i.e., 100, is the total number of diseased cases.</li>
<li>Subtracting the number of diseased cases from the number of all cases yields the number of non-diseased cases.</li>
<li>Therefore, in this dataset, there are 100 diseased cases and 100 non-diseased cases.</li>
</ul>
</div>
<div id="why-dimension-the-nl-array-for-the-total-number-of-cases-1" class="section level3">
<h3><span class="header-section-number">4.2.9</span> Why dimension the <code>NL</code> array for the total number of cases?</h3>
<ul>
<li>Because, in addition to <code>LLs</code>, <code>NLs</code> are possible on diseased cases.</li>
<li>Only <code>LLs</code> are possible on diseased cases.</li>
<li>Only <code>NLs</code> are possible on non-diseased cases.</li>
<li>The missing values are filled in with <code>-Inf</code>.</li>
</ul>
</div>
<div id="ratings-on-a-non-diseased-case-1" class="section level3">
<h3><span class="header-section-number">4.2.10</span> Ratings on a non-diseased case</h3>
<ul>
<li>For treatment 1, reader 1 and case 1 (the first non-diseased case), the NL ratings are:</li>
</ul>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" data-line-number="1">dataset04<span class="op">$</span>NL[<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,]</a>
<a class="sourceLine" id="cb19-2" data-line-number="2"><span class="co">#&gt; [1] -Inf -Inf -Inf -Inf -Inf -Inf -Inf</span></a></code></pre></div>
<div id="the-meaning-of-a-negative-infinity-rating" class="section level4">
<h4><span class="header-section-number">4.2.10.1</span> The meaning of a negative infinity rating</h4>
<ul>
<li>Obviously, a real rating cannot be negative infinity.<a href="#fn12" class="footnote-ref" id="fnref12"><sup>12</sup></a> This value is reserved for <strong>missing ratings</strong>, and more generally, <strong>missing marks</strong>.<a href="#fn13" class="footnote-ref" id="fnref13"><sup>13</sup></a> For example, since all values in the above code chunk are negative infinities, this means this treatment-reader-case combination did not yield any mark-rating pairs. This possibility, alluded to above, is only possible with FROC data. All other paradigms (ROC, LROC and ROI) yield at least one rating per case.</li>
<li>The length of the fourth dimension of the <code>NL</code> array is determined by that treatment-reader-case combination yielding the maximum number of <code>NLs</code>. Consider the following chunk:</li>
</ul>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb20-1" data-line-number="1"><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">5</span>) </a>
<a class="sourceLine" id="cb20-2" data-line-number="2">  <span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">4</span>) </a>
<a class="sourceLine" id="cb20-3" data-line-number="3">    <span class="cf">for</span> (k <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">200</span>) </a>
<a class="sourceLine" id="cb20-4" data-line-number="4">      <span class="cf">if</span> (<span class="kw">all</span>(dataset04<span class="op">$</span>NL[i,j,k,] <span class="op">!=</span><span class="st"> </span><span class="op">-</span><span class="ot">Inf</span>)) </a>
<a class="sourceLine" id="cb20-5" data-line-number="5">        <span class="kw">cat</span>(i, j, k, <span class="kw">all</span>(dataset04<span class="op">$</span>NL[i,j,k,] <span class="op">!=</span><span class="st"> </span><span class="op">-</span><span class="ot">Inf</span>),<span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>)</a>
<a class="sourceLine" id="cb20-6" data-line-number="6"><span class="co">#&gt; 5 4 192 TRUE</span></a></code></pre></div>
<ul>
<li>This shows that the fourth dimension of the <code>NL</code> array has to be of length 7 because <em>one, and only reader</em>, specifically reader “4”, made 7 <code>NL</code> marks on a diseased case in treatment “5”!</li>
</ul>
</div>
<div id="ratings-on-a-diseased-case-1" class="section level4">
<h4><span class="header-section-number">4.2.10.2</span> Ratings on a diseased case</h4>
<p>Unlike non-diseased cases, diseased cases can have both <code>NL</code> and <code>LL</code> ratings.</p>
<ul>
<li>For treatment 1, reader 1, case 51 (the 1st diseased case) the NL ratings are:</li>
</ul>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb21-1" data-line-number="1">dataset04<span class="op">$</span>NL[<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">51</span>,]</a>
<a class="sourceLine" id="cb21-2" data-line-number="2"><span class="co">#&gt; [1] -Inf -Inf -Inf -Inf -Inf -Inf -Inf</span></a>
<a class="sourceLine" id="cb21-3" data-line-number="3">dataset04<span class="op">$</span>lesionNum[<span class="dv">1</span>]</a>
<a class="sourceLine" id="cb21-4" data-line-number="4"><span class="co">#&gt; [1] 1</span></a>
<a class="sourceLine" id="cb21-5" data-line-number="5">dataset04<span class="op">$</span>LL[<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,]</a>
<a class="sourceLine" id="cb21-6" data-line-number="6"><span class="co">#&gt; [1]    4 -Inf -Inf</span></a>
<a class="sourceLine" id="cb21-7" data-line-number="7"><span class="kw">mean</span>(<span class="kw">is.finite</span>(dataset04<span class="op">$</span>LL))</a>
<a class="sourceLine" id="cb21-8" data-line-number="8"><span class="co">#&gt; [1] 0.3043333</span></a></code></pre></div>
<p>. There are only two finite values because this case has two ROI-level-abnormal regions, and 2 plus 2 makes for the assumed 4-regions per case. The corresponding <code>$lesionNum</code> field is 1.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb22-1" data-line-number="1"><span class="kw">mean</span>(<span class="kw">is.finite</span>(dataset04<span class="op">$</span>NL[,,<span class="dv">1</span><span class="op">:</span><span class="dv">50</span>,]))</a>
<a class="sourceLine" id="cb22-2" data-line-number="2"><span class="co">#&gt; [1] 0.05942857</span></a>
<a class="sourceLine" id="cb22-3" data-line-number="3">dataset04<span class="op">$</span>NL[<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">51</span>,]</a>
<a class="sourceLine" id="cb22-4" data-line-number="4"><span class="co">#&gt; [1] -Inf -Inf -Inf -Inf -Inf -Inf -Inf</span></a>
<a class="sourceLine" id="cb22-5" data-line-number="5">dataset04<span class="op">$</span>lesionNum[<span class="dv">1</span>]</a>
<a class="sourceLine" id="cb22-6" data-line-number="6"><span class="co">#&gt; [1] 1</span></a>
<a class="sourceLine" id="cb22-7" data-line-number="7">dataset04<span class="op">$</span>LL[<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,]</a>
<a class="sourceLine" id="cb22-8" data-line-number="8"><span class="co">#&gt; [1]    4 -Inf -Inf</span></a>
<a class="sourceLine" id="cb22-9" data-line-number="9"><span class="kw">mean</span>(<span class="kw">is.finite</span>(dataset04<span class="op">$</span>LL))</a>
<a class="sourceLine" id="cb22-10" data-line-number="10"><span class="co">#&gt; [1] 0.3043333</span></a></code></pre></div>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb23-1" data-line-number="1"><span class="kw">mean</span>(<span class="kw">is.finite</span>(dataset04<span class="op">$</span>NL[,,<span class="dv">1</span><span class="op">:</span><span class="dv">50</span>,]))</a>
<a class="sourceLine" id="cb23-2" data-line-number="2"><span class="co">#&gt; [1] 0.05942857</span></a>
<a class="sourceLine" id="cb23-3" data-line-number="3">dataset04<span class="op">$</span>NL[<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">51</span>,]</a>
<a class="sourceLine" id="cb23-4" data-line-number="4"><span class="co">#&gt; [1] -Inf -Inf -Inf -Inf -Inf -Inf -Inf</span></a>
<a class="sourceLine" id="cb23-5" data-line-number="5">dataset04<span class="op">$</span>lesionNum[<span class="dv">1</span>]</a>
<a class="sourceLine" id="cb23-6" data-line-number="6"><span class="co">#&gt; [1] 1</span></a>
<a class="sourceLine" id="cb23-7" data-line-number="7">dataset04<span class="op">$</span>LL[<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,]</a>
<a class="sourceLine" id="cb23-8" data-line-number="8"><span class="co">#&gt; [1]    4 -Inf -Inf</span></a>
<a class="sourceLine" id="cb23-9" data-line-number="9"><span class="kw">mean</span>(<span class="kw">is.finite</span>(dataset04<span class="op">$</span>LL))</a>
<a class="sourceLine" id="cb23-10" data-line-number="10"><span class="co">#&gt; [1] 0.3043333</span></a></code></pre></div>
<ul>
<li>The ratings of the 2 <code>LLs</code> on this case are 4. The mean rating over all <code>LLs</code> (in all treatments and readers) is 3.6785323.</li>
</ul>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb24-1" data-line-number="1"><span class="kw">mean</span>(<span class="kw">is.finite</span>(dataset04<span class="op">$</span>NL[,,<span class="dv">1</span><span class="op">:</span><span class="dv">50</span>,]))</a>
<a class="sourceLine" id="cb24-2" data-line-number="2"><span class="co">#&gt; [1] 0.05942857</span></a>
<a class="sourceLine" id="cb24-3" data-line-number="3">dataset04<span class="op">$</span>NL[<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">51</span>,]</a>
<a class="sourceLine" id="cb24-4" data-line-number="4"><span class="co">#&gt; [1] -Inf -Inf -Inf -Inf -Inf -Inf -Inf</span></a>
<a class="sourceLine" id="cb24-5" data-line-number="5">dataset04<span class="op">$</span>lesionNum[<span class="dv">1</span>]</a>
<a class="sourceLine" id="cb24-6" data-line-number="6"><span class="co">#&gt; [1] 1</span></a>
<a class="sourceLine" id="cb24-7" data-line-number="7">dataset04<span class="op">$</span>LL[<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,]</a>
<a class="sourceLine" id="cb24-8" data-line-number="8"><span class="co">#&gt; [1]    4 -Inf -Inf</span></a>
<a class="sourceLine" id="cb24-9" data-line-number="9"><span class="kw">mean</span>(<span class="kw">is.finite</span>(dataset04<span class="op">$</span>LL))</a>
<a class="sourceLine" id="cb24-10" data-line-number="10"><span class="co">#&gt; [1] 0.3043333</span></a></code></pre></div>
</div>
</div>
</div>
<div id="the-froc-excel-data-input-file" class="section level2">
<h2><span class="header-section-number">4.3</span> The FROC Excel data input file</h2>
<ul>
<li>An Excel file in JAFROC format containing FROC data corresponding to <code>dataset04</code> is included with the <strong>RJafroc</strong> package <span class="citation">(Zanca et al. <a href="#ref-RN1882">2009</a>)</span>.</li>
</ul>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb25-1" data-line-number="1">fileName &lt;-<span class="st"> </span><span class="kw">system.file</span>(</a>
<a class="sourceLine" id="cb25-2" data-line-number="2">    <span class="st">&quot;extdata&quot;</span>, <span class="st">&quot;includedFrocData.xlsx&quot;</span>, <span class="dt">package =</span> <span class="st">&quot;RJafroc&quot;</span>, <span class="dt">mustWork =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb25-3" data-line-number="3">ds &lt;-<span class="st"> </span><span class="kw">DfReadDataFile</span>(fileName)</a>
<a class="sourceLine" id="cb25-4" data-line-number="4">ds<span class="op">$</span>dataType</a>
<a class="sourceLine" id="cb25-5" data-line-number="5"><span class="co">#&gt; [1] &quot;FROC&quot;</span></a></code></pre></div>
<ul>
<li>On my Mac, the file name is huge:</li>
<li>/Library/Frameworks/R.framework/Versions/3.6/Resources/library/RJafroc/extdata/includedFrocData.xlsx.</li>
<li>Use the following code to make a duplicate of the Excel file in a more convenient location.</li>
</ul>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb26-1" data-line-number="1"><span class="kw">DfSaveDataFile</span>(dataset04, <span class="st">&quot;MyDataset04.xlsx&quot;</span>, <span class="dt">format =</span> <span class="st">&quot;JAFROC&quot;</span>)</a>
<a class="sourceLine" id="cb26-2" data-line-number="2"><span class="co">#&gt; Note: zip::zip() is deprecated, please use zip::zipr() instead</span></a></code></pre></div>
<ul>
<li><p>The structure of the Excel file is superficially similar to the ROC Excel file considered in the previous chapter. However, there are several important differences noted below <strong>in bold</strong>.</p>
<ul>
<li>The <code>Truth</code> worksheet defines the ground-truth of each case. It indicates which cases are diseased and which are non-diseased. <strong>For diseased cases, it additionally indicates the number of lesions, and the weight to be assigned to each lesion.</strong></li>
<li>The <code>FP</code> worksheet lists the <strong>number (zero or more)</strong> and ratings of <code>NL</code> marks on non-diseased <strong>and diseased cases</strong>.</li>
<li>The <code>TP</code> worksheet lists the <strong>number (zero or more)</strong> and ratings of <code>LL</code> marks, i.e., <strong>marked lesions</strong>, on diseased cases. Obviously, <code>LL</code> marks cannot occcur on non-diseased cases.</li>
</ul></li>
</ul>
<div id="the-truth-worksheet" class="section level3">
<h3><span class="header-section-number">4.3.1</span> The Truth worksheet</h3>
<ul>
<li>The <code>CaseID</code> column lists the numeric labels identifying each case. Again, string names are possible, but keep them short.</li>
<li>A <code>1</code>, or more, in the <code>LesionID</code> column denotes a diseased case.</li>
<li>A <code>0</code> in the <code>LesionID</code> column denotes a non-diseased case.</li>
<li>The <code>Weight</code> column is relevant for FROC data.</li>
<li>The contents of the <code>Truth</code> worksheet corresponding to <code>dataset04</code> are displayed next:</li>
</ul>
<p><img src="images/FROC-Truth-1.png" style="width:40.0%" /><img src="images/FROC-Truth-2.png" style="width:40.0%" /><img src="images/FROC-Truth-3.png" style="width:40.0%" /><img src="images/FROC-Truth-4.png" style="width:40.0%" /></p>
<ul>
<li>There are 100 diseased cases (labeled 0-99) under column <code>CaseID</code> and 100 non-diseased cases (labeled 100-199).<a href="#fn14" class="footnote-ref" id="fnref14"><sup>14</sup></a><br />
</li>
<li>The <code>LesionID</code> field for each non-diseased case is zero and there is one row per case for such cases. <strong>For diseased cases, this field has one or more entries, ranging from 1 to 3 for this particular dataset.</strong> In other words, for each diseased case, the number of rows equals the number of lesion on the case.</li>
<li>As an example, cases labeled <code>0 - 54</code> (and other cases like <code>60 - 67</code>, etc.) have single lesions each, with <code>LesionID</code> = 1 and <code>Weight</code> = 1 have one row per case in the worksheet.</li>
<li>As another example, there are two rows for <code>CaseID</code> = 77: one with <code>LesionID</code> = 1 (labeling the first lesion on this case) and one with <code>LesionID</code> = 2 (labeling the second and last lesion on this case). The weights of these lesions are explicitly specified as 0.5 each.</li>
<li>As a final example, there are three rows for <code>CaseID</code> = 95: one with <code>LesionID</code> = 1, one with <code>LesionID</code> = 2 and the last with <code>LesionID</code> = 3. The weights of these lesions are explicitly specified to be 0.33 each.<a href="#fn15" class="footnote-ref" id="fnref15"><sup>15</sup></a><br />
</li>
<li>Alternatively, the <code>Weights</code> field can be set to zeroes (for all cases) to more conveniently ensure equal weighting to much higher precision.</li>
<li>Important: every case must have at least one row describing it in the <strong>Truth</strong> worksheet.</li>
<li>The Excel files should be “robust” with respect to sorting on different columns. By “robust” I mean the resulting <code>R</code> dataset object, resulting from <code>DfReadDataFile</code>, should be unchanged. I have not tested this on all files, but if someone brings deviations from this statement to my attention, I will look into it. As a simple example of “robustness”, notice that in the <strong>Truth</strong> worksheet being currently explained, the diseased cases come before the non-diseased ones.</li>
</ul>
</div>
<div id="the-fpnl-worksheet" class="section level3">
<h3><span class="header-section-number">4.3.2</span> The <code>FP/NL</code> worksheet</h3>
<p>The following screen-shots show different parts of the <code>FP</code> worsheet for <code>dataset04</code>.</p>
<p><img src="images/FROC-FP-1.png" style="width:40.0%" /><img src="images/FROC-FP-2.png" style="width:40.0%" /><img src="images/FROC-FP-3.png" style="width:40.0%" /><img src="images/FROC-FP-4.png" style="width:40.0%" /></p>
<ul>
<li>The <code>FP</code> worksheet lists the ratings of <code>NLs</code> on both non-diseased and diseased cases. <strong>Unlike the ROC paradigm, <code>NLs</code> can occur on diseased cases. Additionally, for a given treatment and reader, the number of rows per case cannot be predicted apriori. It could be 0, 1, 2, etc. </strong> While there is in principle no upper limit to the number of <code>NLs</code> per case, radiologists seldom make more than one or two <code>NLs</code> on any case.</li>
<li>Note the <em>absence</em> of the <code>LesionID</code> field. The <code>NL</code> marks do not correspond to real lesions, which by definition, can only occur on diseased cases.</li>
<li>It is possible (in principle) that the <code>FP</code> worsheet is blank. The observer simplyh does not mark any <code>NLs</code>. See <span class="citation">(Chakraborty <a href="#ref-RN2680">2017</a>)</span> for how the FROC paradigm correctly interprets this situation as indicative of good performance.</li>
</ul>
</div>
<div id="the-tpll-worksheet" class="section level3">
<h3><span class="header-section-number">4.3.3</span> The <code>TP/LL</code> worksheet</h3>
<p>The following screen-shots show different parts of the <code>TP</code> worsheet for <code>dataset04</code>.</p>
<p><img src="images/FROC-TP-1.png" style="width:40.0%" /><img src="images/FROC-TP-2.png" style="width:40.0%" /><img src="images/FROC-TP-3.png" style="width:40.0%" /><img src="images/FROC-TP-4.png" style="width:40.0%" /></p>
<ul>
<li>The <code>TP</code> worksheet lists the ratings of <code>LLs</code> on diseased cases. <strong>Only diseased cases can appear on this worksheet. Additionally, for a given treatment and reader, the number of rows per case cannot be predicted apriori. It could be 0, 1, 2, 3</strong> (the upper limit comes from the maximum number of lesions per case in this dataset).</li>
<li>Note the <em>presence</em> of the <code>LesionID</code> field, which essentially names the different lesions on each diseased case.</li>
<li>As an example, for reader 1, treatment 4, case 99, all three lesions (labeled 1, 2 and 3) are marked and rated 4, 5 and 5, respectively.</li>
</ul>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb27-1" data-line-number="1">dataset04<span class="op">$</span>lesionID[<span class="dv">100</span>]</a>
<a class="sourceLine" id="cb27-2" data-line-number="2"><span class="co">#&gt; [1] 1</span></a>
<a class="sourceLine" id="cb27-3" data-line-number="3">dataset04<span class="op">$</span>LL[<span class="dv">4</span>, <span class="dv">1</span>, <span class="dv">100</span>, ]</a>
<a class="sourceLine" id="cb27-4" data-line-number="4"><span class="co">#&gt; [1] 4 5 5</span></a></code></pre></div>
<ul>
<li>The diseased case labeled <code>99</code> in the Excel Truth sheet is actually diseased case number 100 in the <code>dataset04$LL</code> array.</li>
<li>Remember that the diseased cases are labeled “0” thru “99”, but the array index in the dataset object runs from 1 to 100.</li>
<li>As another example, for reader 1, treatment 4, case 3, there are no LL marks. The one lesion on this case went unmarked.</li>
</ul>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb28-1" data-line-number="1">dataset04<span class="op">$</span>lesionID[<span class="dv">4</span>]</a>
<a class="sourceLine" id="cb28-2" data-line-number="2"><span class="co">#&gt; [1] 1</span></a>
<a class="sourceLine" id="cb28-3" data-line-number="3">dataset04<span class="op">$</span>LL[<span class="dv">4</span>, <span class="dv">1</span>, <span class="dv">4</span>, ]</a>
<a class="sourceLine" id="cb28-4" data-line-number="4"><span class="co">#&gt; [1] -Inf -Inf -Inf</span></a></code></pre></div>
<ul>
<li>Unmarked lesions are indicated by <code>-Inf</code>.</li>
<li>It is possible (in principle) that the <code>TP</code> worsheet is blank. See <span class="citation">(Chakraborty <a href="#ref-RN2680">2017</a>)</span> for how the FROC paradigm correctly interprets this situation as indicative of poor performance.</li>
</ul>
</div>
</div>
<div id="summary-1" class="section level2">
<h2><span class="header-section-number">4.4</span> Summary</h2>
<p>TBA</p>

</div>
</div>
<h3>References</h3>
<div id="refs" class="references">
<div id="ref-RN85">
<p>Bunch, P. C., J. F. Hamilton, G. K. Sanderson, and A. H. Simmons. 1978. “A Free-Response Approach to the Measurement and Characterization of Radiographic-Observer Performance.” Journal Article. <em>J of Appl Photogr. Eng.</em> 4: 166–71.</p>
</div>
<div id="ref-RN2680">
<p>Chakraborty, Dev P. 2017. <em>Observer Performance Methods for Diagnostic Imaging - Foundations, Modeling, and Applications with R-Based Examples</em>. Book. Boca Raton, FL: CRC Press.</p>
</div>
<div id="ref-RN1385">
<p>Chakraborty, D. P., and K. S. Berbaum. 2004. “Observer Studies Involving Detection and Localization: Modeling, Analysis and Validation.” Journal Article. <em>Med Phys</em> 31 (8): 2313–30.</p>
</div>
<div id="ref-RN1966">
<p>Chakraborty, D. P., and H. J. Yoon. 2009. “JAFROC Analysis Revisited: Figure-of-Merit Considerations for Human Observer Studies.” Journal Article. <em>Proc. SPIE Medical Imaging: Image Perception, Observer Performance, and Technology Assessment</em> 7263: 72630T.</p>
</div>
<div id="ref-RN1882">
<p>Zanca, Federica, Jurgen Jacobs, Chantal Van Ongeval, Filip Claus, Valerie Celis, Catherine Geniets, Veerle Provost, Herman Pauwels, Guy Marchal, and Hilde Bosmans. 2009. “Evaluation of Clinical Image Processing Algorithms Used in Digital Mammography.” Journal Article. <em>Medical Physics</em> 36 (3): 765–75.</p>
</div>
</div>
<div class="footnotes">
<hr />
<ol start="7">
<li id="fn7"><p>In order to avoid confusion with the region-of-interest or ROI-paradigm, I do not like to use the term ROI to describe the marks made by the observer.<a href="frocdataformat.html#fnref7" class="footnote-back">↩</a></p></li>
<li id="fn8"><p>I say “seemingly”, because the only real difference between ROC and FROC analyses is in the selection of the figure of merit.<a href="frocdataformat.html#fnref8" class="footnote-back">↩</a></p></li>
<li id="fn9"><p>As with the ROC paradigm, the directionaliy of the rating is not a limitation.<a href="frocdataformat.html#fnref9" class="footnote-back">↩</a></p></li>
<li id="fn10"><p>Since the ROC paradigm does not allow multiple lesions per case, each diseased case conceptually containing only one lesion, the distinction between different <code>lesionID</code> values on the same diseased case does not arise.<a href="frocdataformat.html#fnref10" class="footnote-back">↩</a></p></li>
<li id="fn11"><p>For equally weighted lesions, the name distinction implied by <code>lesionID</code> is not important, but then the analysis would only be valid for equally weighted lesions.<a href="frocdataformat.html#fnref11" class="footnote-back">↩</a></p></li>
<li id="fn12"><p>If an observer is so highly confident in the <em>absence</em> of a localized lesion, he will simply <em>not mark</em> the location in question; if he did, then, logically, he should mark <em>all</em> areas in the image that are definitely not lesions; in the FROC paradigm only regions with a reasonable degree of suspicion are marked. The radiologist only wishes to draw attention to regions that are reasonably suspicious; the definition of “reasonable” is determined by clinical considerations.<a href="frocdataformat.html#fnref12" class="footnote-back">↩</a></p></li>
<li id="fn13"><p>Since there is a one-to-one correspondence between marks and ratings.<a href="frocdataformat.html#fnref13" class="footnote-back">↩</a></p></li>
<li id="fn14"><p>The non-diseased cases numbered 128 - 199 are not shown above. They are similar to the ones that are shown - one row per case with a zero under the lesionID column and a zero under the Weights column.<a href="frocdataformat.html#fnref14" class="footnote-back">↩</a></p></li>
<li id="fn15"><p>The sofware performs a check to ensure that the weight sum to unity, in this case 1% error is considered close enough for “government work”!<a href="frocdataformat.html#fnref15" class="footnote-back">↩</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="rocdataformat.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="split-plot-analysis.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": ["RJafrocBook.pdf", "RJafrocBook.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
